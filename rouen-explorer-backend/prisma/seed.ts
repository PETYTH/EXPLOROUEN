// prisma/seed.ts
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  console.log('üå± Seed Rouen XXL (20 monuments, 15 activit√©s, 4 chasses)‚Ä¶');

  // ---------- Cleanup (respecte les FK) ----------
  await prisma.activityPlace.deleteMany({});
  await prisma.treasureHuntPlace.deleteMany({});
  await prisma.registration.deleteMany({});
  await prisma.discussionMessage.deleteMany({});
  await prisma.discussion.deleteMany({});
  await prisma.review.deleteMany({});
  await prisma.favoritePlace.deleteMany({});
  await prisma.activity.deleteMany({});
  await prisma.treasureHunt.deleteMany({});
  await prisma.monument.deleteMany({});
  await prisma.place.deleteMany({});
  try { await prisma.image.deleteMany({}); } catch { /* optionnel */ }

  // ---------- PLACES (points d‚Äôint√©r√™t utilisables par les activit√©s) ----------
  const places = await Promise.all([
    prisma.place.create({
      data: {
        name: 'Cath√©drale Notre-Dame de Rouen',
        description:
          "Chef-d'≈ìuvre gothique immortalis√© par Monet. S√©rie de 30 toiles de la fa√ßade ouest.",
        address: 'Place de la Cath√©drale, 76000 Rouen',
        latitude: 49.4431,
        longitude: 1.0993,
        category: 'CHURCH',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1564501049412-61c2a3083791?q=80&w=1600',
          'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?q=80&w=1600',
        ]),
        historicalPeriod: 'XIIe‚ÄìXVIe',
        openingHours: JSON.stringify({
          lundi: '14:00-18:00',
          mardi: '9:00-12:00,14:00-18:00',
          mercredi: '9:00-12:00,14:00-18:00',
          jeudi: '9:00-12:00,14:00-18:00',
          vendredi: '9:00-12:00,14:00-18:00',
          samedi: '9:00-12:00,14:00-17:00',
          dimanche: '14:00-17:00',
        }),
        estimatedDuration: 90,
      },
    }),
    prisma.place.create({
      data: {
        name: '√âglise Saint-Maclou',
        description:
          "Joyau du gothique flamboyant (1437‚Äì1521), portail √† cinq porches.",
        address: 'Place Barth√©l√©my, 76000 Rouen',
        latitude: 49.4425,
        longitude: 1.0985,
        category: 'CHURCH',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1577717903315-1691ae25ab3f?q=80&w=1600',
        ]),
        estimatedDuration: 45,
      },
    }),
    prisma.place.create({
      data: {
        name: 'Abbatiale Saint-Ouen',
        description:
          'Gothique rayonnant, verri√®res XIVe, grand orgue Cavaill√©-Coll.',
        address: 'Place du G√©n√©ral de Gaulle, 76000 Rouen',
        latitude: 49.4445,
        longitude: 1.0975,
        category: 'CHURCH',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1566044966085-eb4eb4c639a5?q=80&w=1600',
        ]),
        estimatedDuration: 60,
      },
    }),
    prisma.place.create({
      data: {
        name: 'Gros-Horloge',
        description:
          'Beffroi XIVe & horloge astronomique Renaissance, m√©canisme ancien.',
        address: 'Rue du Gros-Horloge, 76000 Rouen',
        latitude: 49.4415,
        longitude: 1.0895,
        category: 'MONUMENT',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=1600',
        ]),
        estimatedDuration: 45,
        entryPrice: 7.5,
      },
    }),
    prisma.place.create({
      data: {
        name: 'Place du Vieux-March√©',
        description:
          "Lieu du martyre de Jeanne d'Arc (1431), √©glise Sainte-Jeanne-d'Arc.",
        address: 'Place du Vieux-March√©, 76000 Rouen',
        latitude: 49.4429,
        longitude: 1.0877,
        category: 'MONUMENT',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1618330834831-2c19e0c26c2f?q=80&w=1600',
        ]),
        estimatedDuration: 30,
      },
    }),
    prisma.place.create({
      data: {
        name: 'Donjon de Rouen',
        description:
          "Tour Jeanne d'Arc (XIIIe), vestige du ch√¢teau de Philippe Auguste.",
        address: 'Rue Bouvreuil, 76000 Rouen',
        latitude: 49.4462,
        longitude: 1.0964,
        category: 'MONUMENT',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1549641206-fe5a735d6b8f?q=80&w=1600',
        ]),
        estimatedDuration: 40,
      },
    }),
    prisma.place.create({
      data: {
        name: 'Mus√©e des Beaux-Arts',
        description:
          'Collections du XVe au XXIe, Monet, Sisley, Caravage, Delacroix.',
        address: 'Esplanade Marcel Duchamp, 76000 Rouen',
        latitude: 49.4449,
        longitude: 1.0959,
        category: 'MUSEUM',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1520697222862-79e5850b9b9e?q=80&w=1600',
        ]),
        estimatedDuration: 90,
      },
    }),
    prisma.place.create({
      data: {
        name: 'Pont Gustave-Flaubert',
        description:
          'Pont levant spectaculaire (2008), points de vue sur la Seine.',
        address: 'Quais de la Seine, 76000 Rouen',
        latitude: 49.4514,
        longitude: 1.0459,
        category: 'MONUMENT',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1514957677981-11220d1fd55e?q=80&w=1600',
        ]),
        estimatedDuration: 20,
      },
    }),
    prisma.place.create({
      data: {
        name: 'Jardin des Plantes',
        description: 'Jardin botanique (1840), serres tropicales, roseraie.',
        address: 'Av. des Martyrs de la R√©sistance, 76100 Rouen',
        latitude: 49.4209,
        longitude: 1.0932,
        category: 'PARK',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1452570053594-1b985d6ea890?q=80&w=1600',
        ]),
        estimatedDuration: 60,
      },
    }),
    prisma.place.create({
      data: {
        name: 'A√Ætre Saint-Maclou',
        description:
          'Ancien ossuaire de peste (XVIe), sculptures macabres, cour clo√Ætr√©e.',
        address: '186 Rue Martainville, 76000 Rouen',
        latitude: 49.4417,
        longitude: 1.1044,
        category: 'MONUMENT',
        images: JSON.stringify([
          'https://images.unsplash.com/photo-1598188306155-c1fef38376a1?q=80&w=1600',
        ]),
        estimatedDuration: 35,
      },
    }),
  ]);

  // ---------- MONUMENTS (20) ----------
  const monumentsData = [
    // 1
    {
      name: 'Cath√©drale Notre-Dame',
      description:
        "Chef-d'≈ìuvre de l'art gothique fran√ßais, s√©rie de Monet d√©di√©e √† sa fa√ßade.",
      image:
        'https://images.unsplash.com/photo-1564501049412-61c2a3083791?q=80&w=1600',
      rating: 4.8,
      visitDuration: '1h30',
      category: 'religious',
      latitude: 49.4431,
      longitude: 1.0993,
      address: 'Place de la Cath√©drale, 76000 Rouen',
      openingHours: '8h-19h (dim 14h-17h)',
      price: 'Gratuit (tours 6‚Ç¨)',
      highlights: JSON.stringify([
        'Fa√ßade peinte par Monet',
        'Tombeau de Richard C≈ìur de Lion',
        'Tour de Beurre',
      ]),
      history:
        'XIIe‚ÄìXVIe, crypte XIe, √©volution compl√®te du gothique normand.',
      easterEggHints: JSON.stringify([
        'Un petit diable se cache au portail des Libraires',
      ]),
    },
    // 2
    {
      name: 'Gros-Horloge',
      description:
        "Beffroi m√©di√©val & horloge astronomique, m√©canisme historique.",
      image:
        'https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=1600',
      rating: 4.6,
      visitDuration: '45min',
      category: 'historical',
      latitude: 49.4415,
      longitude: 1.0895,
      address: 'Rue du Gros-Horloge, 76000 Rouen',
      openingHours: '10h-19h (lun ferm√©)',
      price: '7,5‚Ç¨',
      highlights: JSON.stringify([
        'Cadran Renaissance 1529',
        'Vue panoramique',
      ]),
      history: 'Beffroi XIVe, cadran ajout√© au XVe‚ÄìXVIe.',
      easterEggHints: JSON.stringify(['Agneau pascal sur le cadran']),
    },
    // 3
    {
      name: '√âglise Saint-Maclou',
      description:
        'Gothique flamboyant, portes Renaissance r√©put√©es.',
      image:
        'https://images.unsplash.com/photo-1577717903315-1691ae25ab3f?q=80&w=1600',
      rating: 4.5,
      visitDuration: '45min',
      category: 'religious',
      latitude: 49.4425,
      longitude: 1.0985,
      address: 'Place Barth√©l√©my, 76000 Rouen',
      openingHours: '10h-12h,14h-18h',
      price: 'Gratuit',
      highlights: JSON.stringify(['Portail √† 5 porches', 'Portes sculpt√©es']),
      history: 'XV·µâ‚ÄìXVI·µâ, sommet du flamboyant normand.',
      easterEggHints: JSON.stringify(['Salamandres de Fran√ßois Ier']),
    },
    // 4
    {
      name: 'Abbatiale Saint-Ouen',
      description: 'Gothique rayonnant, orgue Cavaill√©-Coll.',
      image:
        'https://images.unsplash.com/photo-1566044966085-eb4eb4c639a5?q=80&w=1600',
      rating: 4.7,
      visitDuration: '1h',
      category: 'religious',
      latitude: 49.4445,
      longitude: 1.0975,
      address: 'Pl. du G√©n√©ral de Gaulle, 76000 Rouen',
      openingHours: '10h-12h,14h-18h (lun ferm√©)',
      price: 'Gratuit',
      highlights: JSON.stringify(['Tour-lanterne', 'Verri√®res XIVe']),
      history: 'XIVe‚ÄìXVe, abbaye fond√©e au VIIIe.',
      easterEggHints: JSON.stringify(['Labyrinthe grav√©']),
    },
    // 5
    {
      name: 'Place du Vieux-March√©',
      description: "Lieu du supplice de Jeanne d'Arc (1431).",
      image:
        'https://images.unsplash.com/photo-1618330834831-2c19e0c26c2f?q=80&w=1600',
      rating: 4.3,
      visitDuration: '45min',
      category: 'historical',
      latitude: 49.4429,
      longitude: 1.0877,
      address: 'Place du Vieux-March√©, 76000 Rouen',
      openingHours: '24/7',
      price: 'Gratuit',
      highlights: JSON.stringify([
        '√âglise Sainte-Jeanne-d‚ÄôArc',
        'March√© traditionnel',
      ]),
      history: 'Ancienne place commer√ßante m√©di√©vale.',
      easterEggHints: JSON.stringify(['Fleurs de lys dans les pav√©s']),
    },
    // 6
    {
      name: 'Maisons √† Colombages',
      description:
        'Architecture civile XVe‚ÄìXVIe sur la rue du Gros-Horloge.',
      image:
        'https://images.unsplash.com/photo-1571631072485-ee6f9bb8d82f?q=80&w=1600',
      rating: 4.4,
      visitDuration: '30min',
      category: 'architectural',
      latitude: 49.442,
      longitude: 1.089,
      address: 'Rue du Gros-Horloge, 76000 Rouen',
      openingHours: 'Libre acc√®s',
      price: 'Gratuit',
      highlights: JSON.stringify(['Pans de bois', 'Sculptures']),
      history: 'Prosp√©rit√© marchande de la ville m√©di√©vale.',
      easterEggHints: JSON.stringify(['Licorne sculpt√©e']),
    },
    // 7
    {
      name: 'Donjon de Rouen',
      description:
        'Vestige du ch√¢teau de Philippe Auguste, li√© au proc√®s de Jeanne d‚ÄôArc.',
      image:
        'https://images.unsplash.com/photo-1549641206-fe5a735d6b8f?q=80&w=1600',
      rating: 4.2,
      visitDuration: '40min',
      category: 'historical',
      latitude: 49.4462,
      longitude: 1.0964,
      address: 'Rue Bouvreuil, 76000 Rouen',
      openingHours: '10h-18h',
      price: '5‚Ç¨',
      highlights: JSON.stringify(['Tour ma√Ætresse', 'Escape game']),
      history: 'XIIIe, fortification royale.',
      easterEggHints: JSON.stringify(['Marques de tailleurs']),
    },
    // 8
    {
      name: 'Mus√©e des Beaux-Arts',
      description: 'Collections majeures (Monet, Caravage‚Ä¶).',
      image:
        'https://images.unsplash.com/photo-1520697222862-79e5850b9b9e?q=80&w=1600',
      rating: 4.6,
      visitDuration: '1h30',
      category: 'museum',
      latitude: 49.4449,
      longitude: 1.0959,
      address: 'Esplanade Marcel Duchamp, 76000 Rouen',
      openingHours: '10h-18h (mar-lun)',
      price: 'Gratuit (expos temporaires payantes)',
      highlights: JSON.stringify(['Impressionnisme', 'Caravage']),
      history: 'Fond√© en 1801, agrandi au XXe.',
      easterEggHints: JSON.stringify(['Autoportrait cach√©']),
    },
    // 9
    {
      name: 'Rue Eau-de-Robec',
      description:
        'Rue pittoresque longeant un ancien bras de la Robec, maisons color√©es.',
      image:
        'https://images.unsplash.com/photo-1528909514045-2fa4ac7a08ba?q=80&w=1600',
      rating: 4.4,
      visitDuration: '30min',
      category: 'architectural',
      latitude: 49.4442,
      longitude: 1.1135,
      address: 'Rue Eau-de-Robec, 76000 Rouen',
      openingHours: 'Libre acc√®s',
      price: 'Gratuit',
      highlights: JSON.stringify(['Maisons color√©es', 'Canal']),
      history: 'Ancien quartier des tanneurs.',
      easterEggHints: JSON.stringify(['Symbole de tannerie']),
    },
    // 10
    {
      name: 'Pont Gustave-Flaubert',
      description: 'Pont levant embl√©matique avec vues sur la Seine.',
      image:
        'https://images.unsplash.com/photo-1514957677981-11220d1fd55e?q=80&w=1600',
      rating: 4.1,
      visitDuration: '20min',
      category: 'modern',
      latitude: 49.4514,
      longitude: 1.0459,
      address: 'Quais de la Seine, 76000 Rouen',
      openingHours: 'Libre acc√®s',
      price: 'Gratuit',
      highlights: JSON.stringify(['Architecture mobile', 'Panorama']),
      history: 'Mis en service en 2008.',
      easterEggHints: JSON.stringify(['Mesurez la lev√©e !']),
    },
    // 11
    {
      name: 'Jardin des Plantes',
      description: 'Grand jardin botanique du XIXe, serres tropicales.',
      image:
        'https://images.unsplash.com/photo-1452570053594-1b985d6ea890?q=80&w=1600',
      rating: 4.5,
      visitDuration: '1h',
      category: 'nature',
      latitude: 49.4209,
      longitude: 1.0932,
      address: 'Av. des Martyrs de la R√©sistance, 76100 Rouen',
      openingHours: '8h-19h',
      price: 'Gratuit',
      highlights: JSON.stringify(['Serres', 'Roseraie']),
      history: 'Ouvert en 1840.',
      easterEggHints: JSON.stringify(['Plante ‚Äúmimosa pudica‚Äù']),
    },
    // 12
    {
      name: 'A√Ætre Saint-Maclou',
      description: 'Ossuaire renaissance, sculptures macabres.',
      image:
        'https://images.unsplash.com/photo-1598188306155-c1fef38376a1?q=80&w=1600',
      rating: 4.6,
      visitDuration: '35min',
      category: 'historical',
      latitude: 49.4417,
      longitude: 1.1044,
      address: '186 Rue Martainville, 76000 Rouen',
      openingHours: '10h-18h',
      price: 'Gratuit',
      highlights: JSON.stringify(['Ossuaire', 'D√©cor macabre']),
      history: 'XVIe, suite aux √©pid√©mies de peste.',
      easterEggHints: JSON.stringify(['Cr√¢ne sculpt√© discret']),
    },
    // 13
    {
      name: 'H√¥tel de Bourgtheroulde',
      description: 'Manoir Renaissance √† riches d√©cors sculpt√©s.',
      image:
        'https://images.unsplash.com/photo-1530789253388-582c481c54b0?q=80&w=1600',
      rating: 4.3,
      visitDuration: '30min',
      category: 'architectural',
      latitude: 49.4419,
      longitude: 1.0922,
      address: '15 Pl. de la Pucelle, 76000 Rouen',
      openingHours: 'Ext√©rieurs libres',
      price: 'Gratuit',
      highlights: JSON.stringify(['Bas-reliefs', 'Cour int√©rieure']),
      history: 'D√©but XVIe, style Renaissance.',
      easterEggHints: JSON.stringify(['Bas-relief ‚ÄúCamp du Drap d‚ÄôOr‚Äù']),
    },
    // 14
    {
      name: '√âglise Saint-Patrice',
      description: 'Vitraux remarquables des XVe‚ÄìXVIe.',
      image:
        'https://images.unsplash.com/photo-1471623432079-b009d30b6729?q=80&w=1600',
      rating: 4.2,
      visitDuration: '30min',
      category: 'religious',
      latitude: 49.4447,
      longitude: 1.0933,
      address: 'Rue Saint-Patrice, 76000 Rouen',
      openingHours: '10h-12h,14h-18h',
      price: 'Gratuit',
      highlights: JSON.stringify(['Vitraux anciens', 'Nef lumineuse']),
      history: 'B√¢tie du XVe au XVIe.',
      easterEggHints: JSON.stringify(['Ange minuscule dans un vitrail']),
    },
    // 15
    {
      name: '√âglise Sainte-Jeanne-d‚ÄôArc',
      description:
        '√âglise moderne (1979) aux vitraux Renaissance remont√©s.',
      image:
        'https://images.unsplash.com/photo-1527189712050-303548b74f46?q=80&w=1600',
      rating: 4.0,
      visitDuration: '30min',
      category: 'religious',
      latitude: 49.443,
      longitude: 1.0876,
      address: 'Pl. du Vieux-March√©, 76000 Rouen',
      openingHours: '10h-18h',
      price: 'Gratuit',
      highlights: JSON.stringify(['Vitraux Saint-Vincent']),
      history: 'Architecture de Louis Arretche.',
      easterEggHints: JSON.stringify(['Poisson dans les vitraux']),
    },
    // 16
    {
      name: 'Mus√©e Flaubert & d‚ÄôHistoire de la M√©decine',
      description:
        "Maison natale de Gustave Flaubert, collections m√©dicales XIXe.",
      image:
        'https://images.unsplash.com/photo-1520975916090-3105956dac38?q=80&w=1600',
      rating: 4.1,
      visitDuration: '50min',
      category: 'museum',
      latitude: 49.4406,
      longitude: 1.0846,
      address: '51 Rue de Lecat, 76000 Rouen',
      openingHours: '14h-18h (mar-dim)',
      price: '5‚Ç¨',
      highlights: JSON.stringify(['Salle d‚Äôaccouchement', 'Objets m√©dicaux']),
      history: 'Maison de chirurgien-chef, p√®re de Flaubert.',
      easterEggHints: JSON.stringify(['Clin d‚Äô≈ìil √† ‚ÄúMadame Bovary‚Äù']),
    },
    // 17
    {
      name: 'Place Saint-Marc',
      description: 'Grande place et march√© anim√©.',
      image:
        'https://images.unsplash.com/photo-1606925797300-0b35a1f2c0f0?q=80&w=1600',
      rating: 4.0,
      visitDuration: '20min',
      category: 'urban',
      latitude: 49.4428,
      longitude: 1.1062,
      address: 'Pl. Saint-Marc, 76000 Rouen',
      openingHours: 'Libre acc√®s',
      price: 'Gratuit',
      highlights: JSON.stringify(['March√©', 'Vie locale']),
      history: 'Espace urbain majeur depuis le XIXe.',
      easterEggHints: JSON.stringify(['Stalle ‚Äúmeilleur fromage‚Äù']),
    },
    // 18
    {
      name: 'Quais de la Seine',
      description: 'Promenade, street-art et vue sur l‚Äô√éle Lacroix.',
      image:
        'https://images.unsplash.com/photo-1493558103817-58b2924bce98?q=80&w=1600',
      rating: 4.5,
      visitDuration: '45min',
      category: 'nature',
      latitude: 49.441,
      longitude: 1.082,
      address: 'Quais rive droite & gauche',
      openingHours: 'Libre acc√®s',
      price: 'Gratuit',
      highlights: JSON.stringify(['Street-art', 'V√©los']),
      history: 'Am√©nagements r√©cents pour la balade.',
      easterEggHints: JSON.stringify(['Tag ‚ÄúRouen Love‚Äù']),
    },
    // 19
    {
      name: 'Mus√©e Le Secq des Tournelles',
      description: 'Art du fer du Moyen √Çge au XXe.',
      image:
        'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1600',
      rating: 4.4,
      visitDuration: '45min',
      category: 'museum',
      latitude: 49.4428,
      longitude: 1.0948,
      address: '2 Rue Jacques Villon, 76000 Rouen',
      openingHours: '14h-18h (mar-dim)',
      price: 'Gratuit',
      highlights: JSON.stringify(['Serrures, ferronneries']),
      history: 'Ancienne √©glise, mus√©e unique en son genre.',
      easterEggHints: JSON.stringify(['Clef g√©ante cach√©e']),
    },
    // 20
    {
      name: '√âglise Saint-Ouen de Longueville (r√©plique locale)',
      description: 'Petit √©difice rural typique, √©tape hors centre.',
      image:
        'https://images.unsplash.com/photo-1491553895911-0055eca6402d?q=80&w=1600',
      rating: 3.9,
      visitDuration: '20min',
      category: 'religious',
      latitude: 49.5205,
      longitude: 1.016,
      address: 'Longueville, agglo rouennaise',
      openingHours: 'Visites ponctuelles',
      price: 'Gratuit',
      highlights: JSON.stringify(['Atmosph√®re campagne']),
      history: 'Petite √©glise traditionnelle normande.',
      easterEggHints: JSON.stringify(['C≈ìur sculpt√© sur un banc']),
    },
  ];

  for (const m of monumentsData) {
    await prisma.monument.create({ data: m });
  }

  // ---------- ACTIVIT√âS (15) ‚Äì dates futures 2025-10/11 ----------
  const A = (iso: string) => new Date(iso); // raccourci

  const activities = await Promise.all([
    // CULTURE / HISTOIRE
    prisma.activity.create({
      data: {
        title: 'Circuit des √âglises Gothiques',
        description:
          'Visite guid√©e Notre-Dame, Saint-Maclou et Saint-Ouen : lecture d‚Äôarchitecture.',
        type: 'CULTURAL_VISIT',
        difficulty: 'EASY',
        duration: 180,
        maxParticipants: 20,
        startDate: A('2025-10-05T14:00:00Z'),
        meetingPoint: 'Parvis Cath√©drale',
        latitude: 49.4431,
        longitude: 1.0993,
        price: 12,
        image:
          'https://images.unsplash.com/photo-1564501049412-61c2a3083791?q=80&w=1600',
        category: 'Culture',
        organizerName: 'Marie Dupont',
        organizerAvatar:
          'https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg',
        organizerRating: 4.9,
        equipment: JSON.stringify(['Chaussures confortables']),
        createdBy: 'clerk_user_marie_dupont',
      },
    }),
    prisma.activity.create({
      data: {
        title: "Sur les Pas de Jeanne d'Arc",
        description:
          'Itin√©raire comment√© : Vieux-March√© ‚Üí Donjon, r√©cit du proc√®s.',
        type: 'WALKING',
        difficulty: 'EASY',
        duration: 120,
        distance: 2.5,
        maxParticipants: 25,
        startDate: A('2025-10-07T09:30:00Z'),
        meetingPoint: 'Place du Vieux-March√©',
        latitude: 49.4429,
        longitude: 1.0877,
        price: 8,
        image:
          'https://images.unsplash.com/photo-1618330834831-2c19e0c26c2f?q=80&w=1600',
        category: 'Histoire',
        organizerName: 'Pierre Leclerc',
        organizerAvatar:
          'https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg',
        organizerRating: 4.7,
        equipment: JSON.stringify(['Parapluie (m√©t√©o)']),
        createdBy: 'clerk_user_pierre_leclerc',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Mus√©e des Beaux-Arts ‚Äì Focus Impressionnisme',
        description:
          'Parcours guid√© Monet, Sisley, Pissarro et regards contemporains.',
        type: 'CULTURAL_VISIT',
        difficulty: 'EASY',
        duration: 90,
        maxParticipants: 18,
        startDate: A('2025-10-10T15:00:00Z'),
        meetingPoint: 'Hall du mus√©e',
        latitude: 49.4449,
        longitude: 1.0959,
        price: 10,
        image:
          'https://images.unsplash.com/photo-1520697222862-79e5850b9b9e?q=80&w=1600',
        category: 'Culture',
        organizerName: 'Rouen Art Tours',
        organizerAvatar:
          'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=400',
        organizerRating: 4.8,
        equipment: JSON.stringify(['Billet inclus']),
        createdBy: 'clerk_user_art',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Secrets M√©di√©vaux du Quartier Martainville',
        description:
          'Lecture des fa√ßades √† pans de bois, m√©tiers, vie quotidienne.',
        type: 'WALKING',
        difficulty: 'EASY',
        duration: 75,
        maxParticipants: 20,
        startDate: A('2025-10-12T16:00:00Z'),
        meetingPoint: "Devant l'A√Ætre Saint-Maclou",
        latitude: 49.4417,
        longitude: 1.1044,
        price: 7,
        image:
          'https://images.unsplash.com/photo-1571631072485-ee6f9bb8d82f?q=80&w=1600',
        category: 'Histoire',
        organizerName: 'Guides de Rouen',
        organizerAvatar:
          'https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=400',
        organizerRating: 4.6,
        equipment: JSON.stringify([]),
        createdBy: 'clerk_user_guides',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Atelier Vitrail ‚Äì Initiation',
        description:
          'D√©monstration et pratique : montage au plomb, motifs inspir√©s des verri√®res de Saint-Ouen.',
        type: 'CULTURAL_VISIT',
        difficulty: 'MEDIUM',
        duration: 150,
        maxParticipants: 8,
        startDate: A('2025-10-14T13:30:00Z'),
        meetingPoint: 'Atelier pr√®s de Saint-Ouen',
        latitude: 49.4445,
        longitude: 1.0975,
        price: 49,
        image:
          'https://images.unsplash.com/photo-1508711043162-15e9b7b1ba1b?q=80&w=1600',
        category: 'Artisanat',
        organizerName: 'Atelier Verrier',
        organizerAvatar:
          'https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=400',
        organizerRating: 4.7,
        equipment: JSON.stringify(['Tablier fourni']),
        createdBy: 'clerk_user_vitrail',
      },
    }),

    // SPORT / NATURE
    prisma.activity.create({
      data: {
        title: 'Running Tour Patrimoine (8 km)',
        description:
          'Sortie course √† pied avec pauses ‚Äúhistoire rapide‚Äù sur les monuments.',
        type: 'WALKING',
        difficulty: 'MEDIUM',
        duration: 75,
        maxParticipants: 15,
        startDate: A('2025-10-16T07:30:00Z'),
        meetingPoint: "Parc de l'H√¥tel de Ville",
        latitude: 49.4436,
        longitude: 1.0998,
        price: 12,
        image:
          'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?q=80&w=1600',
        category: 'Sport',
        organizerName: 'Rouen Running Tours',
        organizerAvatar:
          'https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=400',
        organizerRating: 4.4,
        equipment: JSON.stringify(['Eau', 'Chaussures running']),
        createdBy: 'clerk_user_running',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Parcours Cycliste ‚ÄúSeine √† V√©lo‚Äù (25 km)',
        description:
          'Balade s√©curis√©e le long de la Seine jusqu‚Äô√† La Bouille.',
        type: 'WALKING',
        difficulty: 'MEDIUM',
        duration: 180,
        maxParticipants: 20,
        startDate: A('2025-10-18T09:00:00Z'),
        meetingPoint: 'Quais rive droite',
        latitude: 49.4400,
        longitude: 1.0850,
        price: 15,
        image:
          'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?q=80&w=1600',
        category: 'Sport',
        organizerName: 'Club Cycliste',
        organizerAvatar:
          'https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?q=80&w=400',
        organizerRating: 4.6,
        equipment: JSON.stringify(['Casque', 'Kit crevaison']),
        createdBy: 'clerk_user_club_cyclo',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Kayak Nature sur la Seine',
        description:
          'Descente douce avec observation de la faune (h√©rons, martin-p√™cheur).',
        type: 'WALKING',
        difficulty: 'EASY',
        duration: 150,
        maxParticipants: 8,
        startDate: A('2025-10-20T14:00:00Z'),
        meetingPoint: 'Base nautique',
        latitude: 49.441,
        longitude: 1.082,
        price: 35,
        image:
          'https://images.unsplash.com/photo-1544551763-46a013bb70d5?q=80&w=1600',
        category: 'Nature',
        organizerName: 'Rouen Kayak Club',
        organizerAvatar:
          'https://images.unsplash.com/photo-1519340241574-2cec6aef0c01?q=80&w=400',
        organizerRating: 4.7,
        equipment: JSON.stringify(['Tenue de rechange']),
        createdBy: 'clerk_user_kayak',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Marche Nordique ‚Äì For√™t de Roumare',
        description:
          '10 km √† rythme souple, initiation technique, b√¢tons fournis.',
        type: 'WALKING',
        difficulty: 'EASY',
        duration: 120,
        maxParticipants: 12,
        startDate: A('2025-10-22T10:00:00Z'),
        meetingPoint: 'Maison Foresti√®re',
        latitude: 49.465,
        longitude: 1.02,
        price: 18,
        image:
          'https://images.unsplash.com/photo-1551632436-cbf8dd35adfa?q=80&w=1600',
        category: 'Nature',
        organizerName: 'Nature & Forme',
        organizerAvatar:
          'https://images.unsplash.com/photo-1531123897727-8f129e1688ce?q=80&w=400',
        organizerRating: 4.3,
        equipment: JSON.stringify(['Eau', 'Coupe-vent']),
        createdBy: 'clerk_user_marche',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Yoga au Jardin des Plantes',
        description:
          'S√©ance bien-√™tre en plein air (tapis fourni sur place).',
        type: 'WALKING',
        difficulty: 'EASY',
        duration: 60,
        maxParticipants: 20,
        startDate: A('2025-10-24T08:30:00Z'),
        meetingPoint: 'Pelouse centrale',
        latitude: 49.4209,
        longitude: 1.0932,
        price: 9,
        image:
          'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?q=80&w=1600',
        category: 'Bien-√™tre',
        organizerName: 'Green Yoga Rouen',
        organizerAvatar:
          'https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=400',
        organizerRating: 4.5,
        equipment: JSON.stringify(['Tenue confortable']),
        createdBy: 'clerk_user_yoga',
      },
    }),

    // FAMILLE / LOISIRS
    prisma.activity.create({
      data: {
        title: 'Chasse aux Tr√©sors : Myst√®res du Gros-Horloge',
        description:
          '√ânigmes autour du beffroi & cadran, id√©ale en famille.',
        type: 'TREASURE_HUNT',
        difficulty: 'MEDIUM',
        duration: 90,
        maxParticipants: 15,
        startDate: A('2025-10-26T15:00:00Z'),
        meetingPoint: "Sous l'arche du Gros-Horloge",
        latitude: 49.4415,
        longitude: 1.0895,
        price: 6,
        image:
          'https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=1600',
        category: 'Famille',
        organizerName: 'Thomas Rousseau',
        organizerAvatar:
          'https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg',
        organizerRating: 4.6,
        equipment: JSON.stringify(['Smartphone', 'Stylo']),
        createdBy: 'clerk_user_thomas_rousseau',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Escape Game ¬´ Myst√®res de la Cath√©drale ¬ª',
        description:
          'Symboles cach√©s & secrets des b√¢tisseurs ‚Äì √©quipe 2 √† 6.',
        type: 'TREASURE_HUNT',
        difficulty: 'MEDIUM',
        duration: 90,
        maxParticipants: 6,
        startDate: A('2025-10-28T16:00:00Z'),
        meetingPoint: 'Parvis Cath√©drale',
        latitude: 49.4431,
        longitude: 1.0993,
        price: 25,
        image:
          'https://images.unsplash.com/photo-1606092195730-5d7b9af1efc5?q=80&w=1600',
        category: 'Famille',
        organizerName: 'Escape Rouen',
        organizerAvatar:
          'https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?q=80&w=400',
        organizerRating: 4.5,
        equipment: JSON.stringify(['Esprit d‚Äô√©quipe']),
        createdBy: 'clerk_user_escape',
      },
    }),

    // GOURMAND / ARTISANAT
    prisma.activity.create({
      data: {
        title: 'D√©gustation Cidres AOC & Fromages',
        description:
          '5 cidres normands, accords fromages & histoire pomicole.',
        type: 'CULTURAL_VISIT',
        difficulty: 'EASY',
        duration: 105,
        maxParticipants: 15,
        startDate: A('2025-11-02T18:00:00Z'),
        meetingPoint: 'Place du Vieux-March√©',
        latitude: 49.4429,
        longitude: 1.0877,
        price: 28,
        image:
          'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?q=80&w=1600',
        category: 'Gourmand',
        organizerName: 'Normandy Tasting',
        organizerAvatar:
          'https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=400',
        organizerRating: 4.6,
        equipment: JSON.stringify(['Interdit -18 ans']),
        createdBy: 'clerk_user_cidre',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Atelier Fa√Øence Rouennaise',
        description:
          'D√©cors bleu cobalt XVIIe, cr√©ation personnelle √† emporter.',
        type: 'CULTURAL_VISIT',
        difficulty: 'EASY',
        duration: 120,
        maxParticipants: 10,
        startDate: A('2025-11-04T14:30:00Z'),
        meetingPoint: 'Atelier des Arts (Saint-Maclou)',
        latitude: 49.444,
        longitude: 1.092,
        price: 38,
        image:
          'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=1600',
        category: 'Artisanat',
        organizerName: 'Atelier Rouen C√©ramique',
        organizerAvatar:
          'https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=400',
        organizerRating: 4.2,
        equipment: JSON.stringify(['Tablier fourni']),
        createdBy: 'clerk_user_faience',
      },
    }),

    // CROISI√àRE / PHOTO
    prisma.activity.create({
      data: {
        title: 'Croisi√®re Comment√©e sur la Seine',
        description:
          'Ponts, port fluvial, patrimoine industriel & paysages.',
        type: 'CULTURAL_VISIT',
        difficulty: 'EASY',
        duration: 75,
        maxParticipants: 120,
        startDate: A('2025-11-06T11:00:00Z'),
        meetingPoint: 'Embarcad√®re Jeanne d‚ÄôArc',
        latitude: 49.44,
        longitude: 1.085,
        price: 16,
        image:
          'https://images.unsplash.com/photo-1566249406826-8169c43b9b5d?q=80&w=1600',
        category: 'Culture',
        organizerName: 'Rouen Cruises',
        organizerAvatar:
          'https://images.unsplash.com/photo-1546421845-6471bdcf3edf?q=80&w=400',
        organizerRating: 4.4,
        equipment: JSON.stringify(['Coupe-vent']),
        createdBy: 'clerk_user_cruise',
      },
    }),
    prisma.activity.create({
      data: {
        title: 'Photo Walk ‚Äì Rue Eau-de-Robec au CoucheÃÅ du Soleil',
        description:
          'Balade photo guid√©e (composition, lumi√®re, reflets).',
        type: 'WALKING',
        difficulty: 'EASY',
        duration: 90,
        maxParticipants: 12,
        startDate: A('2025-11-08T16:30:00Z'),
        meetingPoint: 'D√©but Rue Eau-de-Robec',
        latitude: 49.4442,
        longitude: 1.1135,
        price: 14,
        image:
          'https://images.unsplash.com/photo-1528909514045-2fa4ac7a08ba?q=80&w=1600',
        category: 'Photo',
        organizerName: 'Rouen Photo Club',
        organizerAvatar:
          'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=400',
        organizerRating: 4.7,
        equipment: JSON.stringify(['Smartphone ou appareil']),
        createdBy: 'clerk_user_photo',
      },
    }),
  ]);

  // ---------- DISCUSSIONS auto ----------
  for (const a of activities) {
    await prisma.discussion.create({
      data: { activityId: a.id, title: `Discussion - ${a.title}` },
    });
  }

  // ---------- activityPlace (liens cl√©s) ----------
  const byTitle = (t: string) => activities.find((a) => a.title === t)!;

  await prisma.activityPlace.createMany({
    data: [
      // Circuit des √âglises Gothiques
      {
        activityId: byTitle('Circuit des √âglises Gothiques').id,
        placeId: places[0].id,
        order: 1,
        description: 'Cath√©drale ‚Äì lecture de fa√ßade',
      },
      {
        activityId: byTitle('Circuit des √âglises Gothiques').id,
        placeId: places[1].id,
        order: 2,
        description: 'Saint-Maclou ‚Äì flamboyant',
      },
      {
        activityId: byTitle('Circuit des √âglises Gothiques').id,
        placeId: places[2].id,
        order: 3,
        description: 'Saint-Ouen ‚Äì vitraux',
      },

      // Sur les Pas de Jeanne d‚ÄôArc
      {
        activityId: byTitle("Sur les Pas de Jeanne d'Arc").id,
        placeId: places[4].id,
        order: 1,
        description: 'Vieux-March√© ‚Äì martyre',
      },
      {
        activityId: byTitle("Sur les Pas de Jeanne d'Arc").id,
        placeId: places[5].id,
        order: 2,
        description: 'Donjon ‚Äì m√©moire du proc√®s',
      },

      // Chasse Gros-Horloge
      {
        activityId: byTitle('Chasse aux Tr√©sors : Myst√®res du Gros-Horloge')
          .id,
        placeId: places[3].id,
        order: 1,
        description: 'Cadran & beffroi',
      },

      // Mus√©e & Impressionnisme
      {
        activityId: byTitle('Mus√©e des Beaux-Arts ‚Äì Focus Impressionnisme').id,
        placeId: places[6].id,
        order: 1,
        description: 'Galeries Impressionnistes',
      },

      // Croisi√®re
      {
        activityId: byTitle('Croisi√®re Comment√©e sur la Seine').id,
        placeId: places[7].id,
        order: 1,
        description: 'Embarcad√®re',
      },

      // Photo Walk Eau-de-Robec
      {
        activityId:
          byTitle('Photo Walk ‚Äì Rue Eau-de-Robec au CoucheÃÅ du Soleil').id,
        placeId: places[6 /* mus√©e */].id,
        order: 1,
        description: 'Point de rendez-vous alternatif',
      },
    ],
  });

  // ---------- CHASSES AU TR√âSOR (4) ----------
  const treasureHunts = [
    {
      title: 'Myst√®res de la Cath√©drale',
      description:
        'D√©chiffrez les symboles cach√©s dans la cath√©drale Notre-Dame.',
      period: 'M√©di√©val',
      startDate: new Date('2024-01-15T09:00:00Z'),
      endDate: new Date('2024-12-31T18:00:00Z'),
      difficulty: 'HARD',
      prize: 'Visite guid√©e priv√©e de la cath√©drale',
      prizeValue: 50.0,
      maxParticipants: 20,
      rules: 'Respecter les lieux de culte, photos autoris√©es sans flash',
    },
    {
      title: 'Tr√©sor des Impressionnistes',
      description:
        '30 points de vue, variations de lumi√®re, palette normande.',
      period: 'XIXe si√®cle',
      startDate: new Date('2024-03-01T10:00:00Z'),
      endDate: new Date('2024-10-31T17:00:00Z'),
      difficulty: 'MEDIUM',
      prize: 'Kit de peinture impressionniste',
      prizeValue: 35.0,
      maxParticipants: 15,
      rules: 'Mat√©riel de dessin recommand√©, respect des propri√©t√©s priv√©es',
    },
    {
      title: 'Secrets de la Seine',
      description:
        'Ponts, port fluvial, √Æles et m√©moire du fleuve.',
      period: 'Contemporain',
      startDate: new Date('2024-04-01T08:00:00Z'),
      endDate: new Date('2024-11-30T19:00:00Z'),
      difficulty: 'MEDIUM',
      prize: 'Croisi√®re sur la Seine',
      prizeValue: 25.0,
      maxParticipants: 25,
      rules: 'Chaussures de marche conseill√©es, attention aux berges',
    },
    {
      title: "Sur les Traces de Jeanne d'Arc",
      description:
        'Parcours historique : prison, proc√®s, martyre, post√©rit√©.',
      period: 'M√©di√©val',
      startDate: new Date('2024-02-01T09:00:00Z'),
      endDate: new Date('2024-11-15T17:00:00Z'),
      difficulty: 'MEDIUM',
      prize: 'Livre historique d√©dicac√©',
      prizeValue: 30.0,
      maxParticipants: 18,
      rules: 'Respect des sites historiques, silence dans les lieux de m√©moire',
    },
  ];

  for (const t of treasureHunts) {
    await prisma.treasureHunt.create({ data: t });
  }

  // ---------- Quelques AVIS ----------
  await prisma.review.createMany({
    data: [
      {
        userId: 'clerk_user_tourist_1',
        placeId: places[0].id,
        rating: 5,
        comment:
          "Sublime cath√©drale, la lumi√®re change tout au fil de la journ√©e !",
        helpfulCount: 9,
      },
      {
        userId: 'clerk_user_tourist_2',
        placeId: places[3].id,
        rating: 4,
        comment:
          "Le m√©canisme du Gros-Horloge est fascinant et la vue superbe.",
        helpfulCount: 6,
      },
      {
        userId: 'clerk_user_tourist_3',
        placeId: places[7].id,
        rating: 5,
        comment: 'Balade apaisante au Jardin des Plantes, top pour respirer.',
        helpfulCount: 5,
      },
    ],
  });

  console.log('‚úÖ Seed XXL termin√© !');
  console.log(`üìç Places: ${places.length}`);
  console.log(`üèõÔ∏è Monuments: ${monumentsData.length}`);
  console.log(`üéØ Activit√©s: ${activities.length}`);
  console.log(`üóùÔ∏è Chasses: ${treasureHunts.length}`);
}

main()
  .catch((e) => {
    console.error('‚ùå Seed error:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
    console.log('üîå Prisma disconnected');
  });
